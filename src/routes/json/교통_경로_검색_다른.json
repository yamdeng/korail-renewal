{
    "version": "1.1.0",
    "type": "replace_message",
    "service_type": 3,
    "sequence": 1536789525918579,
    "timestamp": 1536789525,
    "source": {
        "type": 2,
        "userid": "1838511392917687"
    },
    "message": {
        "templates": [
            {
                "type": "text",
                "template": {
                    "message": "서울신석초등학교에서 인천신석초등학교까지 경로입니다."
                }
            },
            {
                "type": "route_list",
                "template": {
                    "lists": [
                        {
                            "type": "route",
                            "text": "버스 4",
                            "routes": [
                                {
                                    "type": "route_contents",
                                    "action": {
                                        "detail": {
                                            "type": "restful",
                                            "template": {
                                                "method": "get",
                                                "query": "\/trans\/route\/detail",
                                                "args": {
                                                    "search_type": 0,
                                                    "index": 4
                                                }
                                            }
                                        }
                                    },
                                    "contents": {
                                        "payment": 2500,
                                        "total_time": 77,
                                        "total_walk_time": 500,
                                        "transfer_count": 3,
                                        "bus_station_count": 14,
                                        "subway_station_count": 0,
                                        "total_station_count": 14,
                                        "total_distance": 28343,
                                        "route": [
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "7013A",
                                                "bus_type": 12,
                                                "start_name": "신수동주민센터",
                                                "end_name": "합정역"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "1000",
                                                "bus_type": 14,
                                                "start_name": "합정역",
                                                "end_name": "신현치안센터"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "202",
                                                "bus_type": 11,
                                                "start_name": "신현치안센터",
                                                "end_name": "SK인천석유화학"
                                            }
                                        ]
                                    },
                                    "extra": []
                                },
                                {
                                    "type": "route_contents",
                                    "action": {
                                        "detail": {
                                            "type": "restful",
                                            "template": {
                                                "method": "get",
                                                "query": "\/trans\/route\/detail",
                                                "args": {
                                                    "search_type": 0,
                                                    "index": 5
                                                }
                                            }
                                        }
                                    },
                                    "contents": {
                                        "payment": 2500,
                                        "total_time": 78,
                                        "total_walk_time": 500,
                                        "transfer_count": 3,
                                        "bus_station_count": 15,
                                        "subway_station_count": 0,
                                        "total_station_count": 15,
                                        "total_distance": 28412,
                                        "route": [
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "7013B",
                                                "bus_type": 12,
                                                "start_name": "신수동주민센터",
                                                "end_name": "합정역"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "1000",
                                                "bus_type": 14,
                                                "start_name": "합정역",
                                                "end_name": "신현치안센터"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "202",
                                                "bus_type": 11,
                                                "start_name": "신현치안센터",
                                                "end_name": "SK인천석유화학"
                                            }
                                        ]
                                    },
                                    "extra": []
                                },
                                {
                                    "type": "route_contents",
                                    "action": {
                                        "detail": {
                                            "type": "restful",
                                            "template": {
                                                "method": "get",
                                                "query": "\/trans\/route\/detail",
                                                "args": {
                                                    "search_type": 0,
                                                    "index": 6
                                                }
                                            }
                                        }
                                    },
                                    "contents": {
                                        "payment": 2500,
                                        "total_time": 84,
                                        "total_walk_time": 726,
                                        "transfer_count": 3,
                                        "bus_station_count": 17,
                                        "subway_station_count": 0,
                                        "total_station_count": 17,
                                        "total_distance": 30004,
                                        "route": [
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "마포12",
                                                "bus_type": 3,
                                                "start_name": "신수현대아파트.래미안웰스트림",
                                                "end_name": "신촌전철역.그랜드마트"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "1000",
                                                "bus_type": 14,
                                                "start_name": "신촌오거리.현대백화점",
                                                "end_name": "신현치안센터"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "202",
                                                "bus_type": 11,
                                                "start_name": "신현초등학교",
                                                "end_name": "SK인천석유화학"
                                            }
                                        ]
                                    },
                                    "extra": []
                                },
                                {
                                    "type": "route_contents",
                                    "action": {
                                        "detail": {
                                            "type": "restful",
                                            "template": {
                                                "method": "get",
                                                "query": "\/trans\/route\/detail",
                                                "args": {
                                                    "search_type": 0,
                                                    "index": 7
                                                }
                                            }
                                        }
                                    },
                                    "contents": {
                                        "payment": 2600,
                                        "total_time": 83,
                                        "total_walk_time": 726,
                                        "transfer_count": 3,
                                        "bus_station_count": 15,
                                        "subway_station_count": 0,
                                        "total_station_count": 15,
                                        "total_distance": 30000,
                                        "route": [
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "마포12",
                                                "bus_type": 3,
                                                "start_name": "신수현대아파트.래미안웰스트림",
                                                "end_name": "신촌전철역.그랜드마트"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "M6628",
                                                "bus_type": 14,
                                                "start_name": "신촌오거리.현대백화점",
                                                "end_name": "신현치안센터"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "202",
                                                "bus_type": 11,
                                                "start_name": "신현초등학교",
                                                "end_name": "SK인천석유화학"
                                            }
                                        ]
                                    },
                                    "extra": []
                                }
                            ],
                            "extra": {
                                "path_type": 2
                            }
                        },
                        {
                            "type": "route",
                            "text": "지하철+버스 4",
                            "routes": [
                                {
                                    "type": "route_contents",
                                    "action": {
                                        "detail": {
                                            "type": "restful",
                                            "template": {
                                                "method": "get",
                                                "query": "\/trans\/route\/detail",
                                                "args": {
                                                    "search_type": 0,
                                                    "index": 0
                                                }
                                            }
                                        }
                                    },
                                    "contents": {
                                        "payment": 1850,
                                        "total_time": 92,
                                        "total_walk_time": 1153,
                                        "transfer_count": 3,
                                        "bus_station_count": 16,
                                        "subway_station_count": 6,
                                        "total_station_count": 22,
                                        "total_distance": 38684,
                                        "route": [
                                            {
                                                "search_type": 0,
                                                "traffic_type": 1,
                                                "subway_name": "수도권 6호선",
                                                "subway_code": 6,
                                                "start_name": "대흥",
                                                "end_name": "공덕"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 1,
                                                "subway_name": "공항철도",
                                                "subway_code": 101,
                                                "start_name": "공덕",
                                                "end_name": "검암"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "13",
                                                "bus_type": 11,
                                                "start_name": "검암역입구",
                                                "end_name": "월드메드디앙아파트"
                                            }
                                        ]
                                    },
                                    "extra": []
                                },
                                {
                                    "type": "route_contents",
                                    "action": {
                                        "detail": {
                                            "type": "restful",
                                            "template": {
                                                "method": "get",
                                                "query": "\/trans\/route\/detail",
                                                "args": {
                                                    "search_type": 0,
                                                    "index": 1
                                                }
                                            }
                                        }
                                    },
                                    "contents": {
                                        "payment": 1750,
                                        "total_time": 99,
                                        "total_walk_time": 972,
                                        "transfer_count": 3,
                                        "bus_station_count": 20,
                                        "subway_station_count": 7,
                                        "total_station_count": 27,
                                        "total_distance": 44591,
                                        "route": [
                                            {
                                                "search_type": 0,
                                                "traffic_type": 1,
                                                "subway_name": "수도권 6호선",
                                                "subway_code": 6,
                                                "start_name": "대흥",
                                                "end_name": "공덕"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 1,
                                                "subway_name": "공항철도",
                                                "subway_code": 101,
                                                "start_name": "공덕",
                                                "end_name": "청라국제도시"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "42-2",
                                                "bus_type": 11,
                                                "start_name": "청라국제도시역",
                                                "end_name": "SK인천석유화학"
                                            }
                                        ]
                                    },
                                    "extra": []
                                },
                                {
                                    "type": "route_contents",
                                    "action": {
                                        "detail": {
                                            "type": "restful",
                                            "template": {
                                                "method": "get",
                                                "query": "\/trans\/route\/detail",
                                                "args": {
                                                    "search_type": 0,
                                                    "index": 2
                                                }
                                            }
                                        }
                                    },
                                    "contents": {
                                        "payment": 1750,
                                        "total_time": 99,
                                        "total_walk_time": 993,
                                        "transfer_count": 3,
                                        "bus_station_count": 19,
                                        "subway_station_count": 7,
                                        "total_station_count": 26,
                                        "total_distance": 44783,
                                        "route": [
                                            {
                                                "search_type": 0,
                                                "traffic_type": 1,
                                                "subway_name": "수도권 6호선",
                                                "subway_code": 6,
                                                "start_name": "대흥",
                                                "end_name": "공덕"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 1,
                                                "subway_name": "공항철도",
                                                "subway_code": 101,
                                                "start_name": "공덕",
                                                "end_name": "청라국제도시"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "40",
                                                "bus_type": 11,
                                                "start_name": "청라국제도시역",
                                                "end_name": "효성아파트"
                                            }
                                        ]
                                    },
                                    "extra": []
                                },
                                {
                                    "type": "route_contents",
                                    "action": {
                                        "detail": {
                                            "type": "restful",
                                            "template": {
                                                "method": "get",
                                                "query": "\/trans\/route\/detail",
                                                "args": {
                                                    "search_type": 0,
                                                    "index": 3
                                                }
                                            }
                                        }
                                    },
                                    "contents": {
                                        "payment": 1750,
                                        "total_time": 105,
                                        "total_walk_time": 1091,
                                        "transfer_count": 3,
                                        "bus_station_count": 22,
                                        "subway_station_count": 7,
                                        "total_station_count": 29,
                                        "total_distance": 46731,
                                        "route": [
                                            {
                                                "search_type": 0,
                                                "traffic_type": 1,
                                                "subway_name": "수도권 6호선",
                                                "subway_code": 6,
                                                "start_name": "대흥",
                                                "end_name": "공덕"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 1,
                                                "subway_name": "공항철도",
                                                "subway_code": 101,
                                                "start_name": "공덕",
                                                "end_name": "청라국제도시"
                                            },
                                            {
                                                "search_type": 0,
                                                "traffic_type": 2,
                                                "bus_no": "904",
                                                "bus_type": 26,
                                                "start_name": "청라국제도시역",
                                                "end_name": "월드메드디앙아파트"
                                            }
                                        ]
                                    },
                                    "extra": []
                                }
                            ],
                            "extra": {
                                "path_type": 3
                            }
                        }
                    ],
                    "extra": {
                        "route_data": {
                            "start": {
                                "lng": 126.938014,
                                "lat": 37.5443937,
                                "name": "서울신석초등학교"
                            },
                            "end": {
                                "lng": 126.6644156,
                                "lat": 37.5112907,
                                "name": "인천신석초등학교"
                            },
                            "searchType": 0
                        },
                        "recommend": {
                            "time": {
                                "buttons": [
                                    {
                                        "type": "route_contents",
                                        "action": {
                                            "detail": {
                                                "type": "restful",
                                                "template": {
                                                    "method": "get",
                                                    "query": "\/trans\/route\/detail",
                                                    "args": {
                                                        "search_type": 0,
                                                        "index": 4
                                                    }
                                                }
                                            }
                                        },
                                        "contents": {
                                            "payment": 2500,
                                            "total_time": 77,
                                            "total_walk_time": 500,
                                            "transfer_count": 3,
                                            "bus_station_count": 14,
                                            "subway_station_count": 0,
                                            "total_station_count": 14,
                                            "total_distance": 28343,
                                            "route": [
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 2,
                                                    "bus_no": "7013A",
                                                    "bus_type": 12,
                                                    "start_name": "신수동주민센터",
                                                    "end_name": "합정역"
                                                },
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 2,
                                                    "bus_no": "1000",
                                                    "bus_type": 14,
                                                    "start_name": "합정역",
                                                    "end_name": "신현치안센터"
                                                },
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 2,
                                                    "bus_no": "202",
                                                    "bus_type": 11,
                                                    "start_name": "신현치안센터",
                                                    "end_name": "SK인천석유화학"
                                                }
                                            ]
                                        },
                                        "extra": []
                                    }
                                ]
                            },
                            "payment": {
                                "buttons": [
                                    {
                                        "type": "route_contents",
                                        "action": {
                                            "detail": {
                                                "type": "restful",
                                                "template": {
                                                    "method": "get",
                                                    "query": "\/trans\/route\/detail",
                                                    "args": {
                                                        "search_type": 0,
                                                        "index": 3
                                                    }
                                                }
                                            }
                                        },
                                        "contents": {
                                            "payment": 1750,
                                            "total_time": 105,
                                            "total_walk_time": 1091,
                                            "transfer_count": 3,
                                            "bus_station_count": 22,
                                            "subway_station_count": 7,
                                            "total_station_count": 29,
                                            "total_distance": 46731,
                                            "route": [
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 1,
                                                    "subway_name": "수도권 6호선",
                                                    "subway_code": 6,
                                                    "start_name": "대흥",
                                                    "end_name": "공덕"
                                                },
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 1,
                                                    "subway_name": "공항철도",
                                                    "subway_code": 101,
                                                    "start_name": "공덕",
                                                    "end_name": "청라국제도시"
                                                },
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 2,
                                                    "bus_no": "904",
                                                    "bus_type": 26,
                                                    "start_name": "청라국제도시역",
                                                    "end_name": "월드메드디앙아파트"
                                                }
                                            ]
                                        },
                                        "extra": []
                                    }
                                ]
                            },
                            "transfer": {
                                "buttons": [
                                    {
                                        "type": "route_contents",
                                        "action": {
                                            "detail": {
                                                "type": "restful",
                                                "template": {
                                                    "method": "get",
                                                    "query": "\/trans\/route\/detail",
                                                    "args": {
                                                        "search_type": 0,
                                                        "index": 7
                                                    }
                                                }
                                            }
                                        },
                                        "contents": {
                                            "payment": 2600,
                                            "total_time": 83,
                                            "total_walk_time": 726,
                                            "transfer_count": 3,
                                            "bus_station_count": 15,
                                            "subway_station_count": 0,
                                            "total_station_count": 15,
                                            "total_distance": 30000,
                                            "route": [
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 2,
                                                    "bus_no": "마포12",
                                                    "bus_type": 3,
                                                    "start_name": "신수현대아파트.래미안웰스트림",
                                                    "end_name": "신촌전철역.그랜드마트"
                                                },
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 2,
                                                    "bus_no": "M6628",
                                                    "bus_type": 14,
                                                    "start_name": "신촌오거리.현대백화점",
                                                    "end_name": "신현치안센터"
                                                },
                                                {
                                                    "search_type": 0,
                                                    "traffic_type": 2,
                                                    "bus_no": "202",
                                                    "bus_type": 11,
                                                    "start_name": "신현초등학교",
                                                    "end_name": "SK인천석유화학"
                                                }
                                            ]
                                        },
                                        "extra": []
                                    }
                                ]
                            }
                        },
                        "filter": {
                            "sortType": [
                                {
                                    "no": 0,
                                    "name": "최단시간",
                                    "command": null,
                                    "selected": true
                                },
                                {
                                    "no": 1,
                                    "name": "최저요금",
                                    "command": null,
                                    "selected": false
                                },
                                {
                                    "no": 2,
                                    "name": "최소환승",
                                    "command": null,
                                    "selected": false
                                }
                            ],
                            "searchType": [
                                {
                                    "no": 0,
                                    "name": "시내교통",
                                    "command": null,
                                    "selected": true
                                },
                                {
                                    "no": 1,
                                    "name": "시외교통",
                                    "command": {
                                        "type": "postback",
                                        "template": {
                                            "query": "교통_경로_검색_다른",
                                            "args": null
                                        }
                                    },
                                    "selected": false
                                }
                            ]
                        },
                        "favorite": {
                            "is_added": false,
                            "text": "경로 즐겨찾기",
                            "action": {
                                "add": {
                                    "type": "restful",
                                    "template": {
                                        "method": "post",
                                        "query": "\/trans\/favorite",
                                        "args": {
                                            "start": {
                                                "lng": 126.938014,
                                                "lat": 37.5443937,
                                                "name": "서울신석초등학교"
                                            },
                                            "end": {
                                                "lng": 126.6644156,
                                                "lat": 37.5112907,
                                                "name": "인천신석초등학교"
                                            },
                                            "searchType": 0
                                        }
                                    }
                                },
                                "del": {
                                    "type": "restful",
                                    "template": {
                                        "method": "delete",
                                        "query": "\/trans\/favorite",
                                        "args": {
                                            "start": {
                                                "lng": 126.938014,
                                                "lat": 37.5443937,
                                                "name": "서울신석초등학교"
                                            },
                                            "end": {
                                                "lng": 126.6644156,
                                                "lat": 37.5112907,
                                                "name": "인천신석초등학교"
                                            },
                                            "searchType": 0
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        ],
        "toast": null
    },
    "id": "교통_경로_검색",
    "user_area": null,
    "input_area": {
        "home": {
            "type": "postback",
            "template": {
                "query": "교통_처음",
                "args": null
            }
        },
        "slide_info": {
            "status": {
                "slide_on": false
            },
            "title": {
                "default": "여기를 위로 올려주세요."
            }
        },
        "submit": null,
        "templates": {
            "type": "layer",
            "template": [
                {
                    "title": "메뉴를 선택해 주세요.",
                    "subtitle": null,
                    "templates": [
                        {
                            "type": "richbutton",
                            "template": {
                                "buttons": [
                                    {
                                        "type": "postback",
                                        "value": {
                                            "query": "교통_시작",
                                            "args": null
                                        },
                                        "text": "새로 검색하기"
                                    },
                                    {
                                        "type": "postback",
                                        "value": {
                                            "query": "교통_시작",
                                            "args": {
                                                "start": {
                                                    "lng": 126.938014,
                                                    "lat": 37.5443937,
                                                    "name": "서울신석초등학교"
                                                },
                                                "end": {
                                                    "lng": 126.6644156,
                                                    "lat": 37.5112907,
                                                    "name": "인천신석초등학교"
                                                }
                                            }
                                        },
                                        "text": "출발지\/도착지 수정하기"
                                    }
                                ]
                            }
                        }
                    ]
                }
            ]
        }
    }
}